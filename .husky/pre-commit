#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "🔍 Running pre-commit checks..."

# Type checking
pnpm typecheck || (echo "❌ TypeScript errors found" && exit 1)

# Linting
pnpm lint || (echo "❌ ESLint errors found" && exit 1)

# Format check
pnpm format:check || (echo "❌ Prettier formatting issues found" && exit 1)

# Unit tests for changed files
pnpm test --run --changed || (echo "❌ Tests failing" && exit 1)

echo "✅ Pre-commit checks passed!"

