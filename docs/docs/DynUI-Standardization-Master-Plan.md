# üèóÔ∏è DynUI Component Standardization - Master Finalization Plan\n\n**Verzija:** 1.0  \n**Datum:** 21. oktobar 2025  \n**Autor:** AI-Driven Component Architecture Team  \n**Status:** Ready for Implementation\n\n---\n\n## üìã Izvr≈°ni rezime\n\nOvaj dokument defini≈°e kompletnu strategiju za finalizaciju DynUI biblioteke prema \"Gold Standard\" kriterijumima ustanovljenim kroz DynAvatar referencu. Plan obuhvata **26 komponenti** sa preciznim koracima, prioritetima i merljivim ishodima.\n\n### üéØ Kljuƒçni ciljevi:\n- **100% standardizacija** svih komponenti prema DynAvatar ≈°ablonu\n- **0 TypeScript gre≈°aka** u celom projektu\n- **100% test coverage** za kritiƒçne komponente (95%+ za ostale)\n- **WCAG 2.1 AA compliance** za sve komponente\n- **100% design token integration** bez hardcodovanih vrednosti\n- **Kompletna Storybook dokumentacija** sa interaktivnim primerima\n\n### üìä Trenutno stanje:\n- **DynTable**: ‚úÖ Gold Standard (100% compliant)\n- **DynAvatar**: ‚úÖ Template Standard (100% compliant)  \n- **Ostale komponente**: 40-75% compliance (potrebna standardizacija)\n\n---\n\n## üèõÔ∏è Deo I: Definisanje Gold Standard Kriterijuma\n\n### 1.1 Arhitektura fajlova\n\nSvaka komponenta **MORA** imati sledeƒáu strukturu:\n\n```\nComponentName/\n‚îú‚îÄ‚îÄ ComponentName.tsx          # Glavna komponenta\n‚îú‚îÄ‚îÄ ComponentName.types.ts     # TypeScript definicije\n‚îú‚îÄ‚îÄ ComponentName.module.css   # Stilovi sa design tokenima\n‚îú‚îÄ‚îÄ ComponentName.test.tsx     # Test suite\n‚îú‚îÄ‚îÄ ComponentName.stories.tsx  # Storybook dokumentacija\n‚îî‚îÄ‚îÄ index.ts                   # Clean exports\n```\n\n### 1.2 TypeScript Standard\n\n#### 1.2.1 Obavezni tipovi i interface-i:\n\n```typescript\n// ComponentName.types.ts\nimport type { BaseComponentProps, AccessibilityProps } from '../../types';\n\n// Osnovni tipovi\nexport type ComponentNameSize = 'sm' | 'md' | 'lg';\nexport type ComponentNameVariant = 'primary' | 'secondary' | 'danger';\n\n// Props interface\nexport interface ComponentNameProps extends \n  BaseComponentProps, \n  AccessibilityProps {\n  \n  // Osnovni prop-ovi\n  size?: ComponentNameSize;\n  variant?: ComponentNameVariant;\n  disabled?: boolean;\n  loading?: boolean;\n  \n  // Kontrolisano/nekontrolisano stanje (ako primenljivo)\n  value?: ValueType;\n  defaultValue?: ValueType;\n  onChange?: (value: ValueType) => void;\n  \n  // Event handlers\n  onClick?: (event: React.MouseEvent) => void;\n  onFocus?: (event: React.FocusEvent) => void;\n  onBlur?: (event: React.FocusEvent) => void;\n  \n  // Children ili content\n  children?: React.ReactNode;\n}\n\n// Ref tip\nexport type ComponentNameRef = HTMLElement; // ili specifiƒçan element\n\n// Export wszystko\nexport type { BaseComponentProps, AccessibilityProps };\n```\n\n#### 1.2.2 Obavezni export pattern:\n\n```typescript\n// ComponentName.tsx\nexport const ComponentName = forwardRef<ComponentNameRef, ComponentNameProps>(\n  // implementacija\n);\n\nComponentName.displayName = 'ComponentName';\nexport default ComponentName;\n\n// index.ts\nexport { default as ComponentName } from './ComponentName';\nexport type { \n  ComponentNameProps, \n  ComponentNameRef,\n  ComponentNameSize,\n  ComponentNameVariant \n} from './ComponentName.types';\n```\n\n### 1.3 CSS i Design Token Standard\n\n#### 1.3.1 Obavezni pattern:\n\n```css\n/* ComponentName.module.css */\n.component-name {\n  /* Pozicioniranje */\n  position: relative;\n  display: var(--dyn-display-block, block);\n  \n  /* Dimenzije */\n  width: var(--dyn-width-full, 100%);\n  height: auto;\n  \n  /* Spacing */\n  padding: var(--dyn-spacing-md, 1rem);\n  margin: 0;\n  \n  /* Tipografija */\n  font-family: var(--dyn-font-family-base, system-ui);\n  font-size: var(--dyn-font-size-base, 1rem);\n  line-height: var(--dyn-line-height-base, 1.5);\n  \n  /* Boje */\n  color: var(--dyn-color-text-primary, #000);\n  background-color: var(--dyn-color-bg-primary, #fff);\n  \n  /* Borders & Radius */\n  border: var(--dyn-border-width-thin, 1px) solid var(--dyn-color-border-primary, #d1d5db);\n  border-radius: var(--dyn-border-radius-md, 0.5rem);\n  \n  /* Transitions */\n  transition: var(--dyn-transition-base, all 0.2s ease-in-out);\n  \n  /* Focus */\n  outline: none;\n}\n\n.component-name:focus-visible {\n  outline: var(--dyn-outline-focus, 2px solid #3b82f6);\n  outline-offset: var(--dyn-outline-offset, 2px);\n}\n\n/* Dark theme support */\n@media (prefers-color-scheme: dark) {\n  .component-name {\n    color: var(--dyn-color-text-primary-dark, #fff);\n    background-color: var(--dyn-color-bg-primary-dark, #111);\n    border-color: var(--dyn-color-border-primary-dark, #374151);\n  }\n}\n\n/* Reduced motion support */\n@media (prefers-reduced-motion: reduce) {\n  .component-name {\n    transition: none;\n  }\n}\n\n/* Size variants */\n.component-name--sm {\n  padding: var(--dyn-spacing-sm, 0.5rem);\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n}\n\n.component-name--lg {\n  padding: var(--dyn-spacing-lg, 1.5rem);\n  font-size: var(--dyn-font-size-lg, 1.125rem);\n}\n\n/* State variants */\n.component-name--disabled {\n  opacity: var(--dyn-opacity-disabled, 0.5);\n  cursor: not-allowed;\n}\n\n.component-name--loading {\n  cursor: wait;\n}\n```\n\n### 1.4 Accessibility Standard\n\n#### 1.4.1 Obavezni ARIA attributi:\n\n```typescript\n// U svakoj komponenti:\nconst accessibilityProps = {\n  'aria-label': ariaLabel,\n  'aria-labelledby': ariaLabelledBy,\n  'aria-describedby': ariaDescribedBy,\n  'aria-expanded': isExpanded ? 'true' : 'false', // za interactive komponente\n  'aria-disabled': disabled ? 'true' : undefined,\n  'aria-busy': loading ? 'true' : undefined,\n  'aria-invalid': hasError ? 'true' : undefined,\n  role: appropriateRole,\n  tabIndex: isInteractive ? 0 : undefined,\n};\n```\n\n#### 1.4.2 Keyboard Navigation:\n\n- **Enter/Space**: aktivacija\n- **Escape**: zatvaranje modal/dropdown komponenti\n- **Arrow keys**: navigacija kroz liste/tabove\n- **Home/End**: prelazak na poƒçetak/kraj\n- **Tab**: focus management\n\n### 1.5 Test Standard\n\n#### 1.5.1 Obavezni test template:\n\n```typescript\n// ComponentName.test.tsx\nimport React from 'react';\nimport { render, screen, fireEvent } from '@testing-library/react';\nimport { axe, toHaveNoViolations } from 'jest-axe';\nimport userEvent from '@testing-library/user-event';\nimport { ComponentName } from './ComponentName';\nimport type { ComponentNameProps } from './ComponentName.types';\n\n// Extend Jest matchers\nexpected.extend(toHaveNoViolations);\n\ndescribe('ComponentName', () => {\n  // 1. Basic Rendering\n  it('renders without crashing', () => {\n    render(<ComponentName />);\n    expect(screen.getByRole('...')).toBeInTheDocument();\n  });\n\n  // 2. Props Testing\n  it('applies size variants correctly', () => {\n    const { rerender } = render(<ComponentName size=\"sm\" />);\n    expect(screen.getByRole('...')).toHaveClass('component-name--sm');\n    \n    rerender(<ComponentName size=\"lg\" />);\n    expect(screen.getByRole('...')).toHaveClass('component-name--lg');\n  });\n\n  // 3. Interactive Testing\n  it('handles user interactions correctly', async () => {\n    const user = userEvent.setup();\n    const handleChange = jest.fn();\n    \n    render(<ComponentName onChange={handleChange} />);\n    \n    await user.click(screen.getByRole('...'));\n    expect(handleChange).toHaveBeenCalledWith(expectedValue);\n  });\n\n  // 4. Keyboard Testing\n  it('supports keyboard navigation', async () => {\n    const user = userEvent.setup();\n    render(<ComponentName />);\n    \n    const element = screen.getByRole('...');\n    await user.tab();\n    expect(element).toHaveFocus();\n    \n    await user.keyboard('{Enter}');\n    // test expected behavior\n  });\n\n  // 5. Accessibility Testing\n  it('has no accessibility violations', async () => {\n    const { container } = render(\n      <ComponentName \n        aria-label=\"Test component\"\n        aria-describedby=\"description\"\n      />\n    );\n    \n    const results = await axe(container);\n    expect(results).toHaveNoViolations();\n  });\n\n  // 6. Edge Cases\n  it('handles edge cases gracefully', () => {\n    // Test null/undefined values\n    // Test empty states\n    // Test error states\n  });\n});\n```\n\n### 1.6 Storybook Standard\n\n#### 1.6.1 Obavezni story template:\n\n```typescript\n// ComponentName.stories.tsx\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { ComponentName } from './ComponentName';\nimport type { ComponentNameProps } from './ComponentName.types';\n\nconst meta: Meta<typeof ComponentName> = {\n  title: 'Category/ComponentName',\n  component: ComponentName,\n  parameters: {\n    layout: 'centered',\n    docs: {\n      description: {\n        component: 'Detailed component description with usage guidelines.'\n      }\n    }\n  },\n  tags: ['autodocs'],\n  argTypes: {\n    size: {\n      control: { type: 'select' },\n      options: ['sm', 'md', 'lg'],\n      description: 'Component size variant'\n    },\n    // ... other controls\n  },\n};\n\nexport default meta;\ntype Story = StoryObj<typeof ComponentName>;\n\n// Required stories:\nexport const Default: Story = {\n  args: {\n    // default props\n  },\n};\n\nexport const Variants: Story = {\n  render: () => (\n    <div style={{ display: 'flex', gap: '1rem' }}>\n      <ComponentName variant=\"primary\" />\n      <ComponentName variant=\"secondary\" />\n      <ComponentName variant=\"danger\" />\n    </div>\n  ),\n};\n\nexport const Sizes: Story = {\n  render: () => (\n    <div style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>\n      <ComponentName size=\"sm\" />\n      <ComponentName size=\"md\" />\n      <ComponentName size=\"lg\" />\n    </div>\n  ),\n};\n\nexport const Interactive: Story = {\n  args: {\n    onClick: () => alert('Clicked!'),\n  },\n};\n\nexport const Accessibility: Story = {\n  args: {\n    'aria-label': 'Accessible component example',\n    'aria-describedby': 'description',\n  },\n  render: (args) => (\n    <div>\n      <p id=\"description\">This component demonstrates accessibility features.</p>\n      <ComponentName {...args} />\n    </div>\n  ),\n};\n\nexport const States: Story = {\n  render: () => (\n    <div style={{ display: 'grid', gap: '1rem' }}>\n      <ComponentName />                    {/* Normal */}\n      <ComponentName disabled />           {/* Disabled */}\n      <ComponentName loading />            {/* Loading */}\n      <ComponentName error />              {/* Error */}\n    </div>\n  ),\n};\n\nexport const DarkTheme: Story = {\n  parameters: {\n    backgrounds: {\n      default: 'dark',\n      values: [{ name: 'dark', value: '#1f2937' }],\n    },\n  },\n  args: {\n    // props for dark theme testing\n  },\n};\n```\n\n---\n\n## üöÄ Deo II: Implementacijski plan po komponentama\n\n### 2.1 Prioritizacija komponenti\n\n#### **Faza 1: Kritiƒçne komponente (1-2 nedelje)**\n1. **DynButton** - osnovna interakcija\n2. **DynInput** - form fundamentals\n3. **DynBox** - layout foundation\n4. **DynLabel** - accessibility pairing\n\n#### **Faza 2: Interaktivne komponente (2-3 nedelje)**  \n5. **DynSelect** - complex interaction\n6. **DynCheckbox** - form controls\n7. **DynTabs** - navigation pattern\n8. **DynModal** - overlay management\n\n#### **Faza 3: Slo≈æene komponente (3-4 nedelje)**\n9. **DynStepper** - complex state\n10. **DynMenu** - navigation complexity\n11. **DynListView** - data presentation\n12. **DynTreeView** - hierarchical data\n\n#### **Faza 4: Finalne komponente (4-5 nedelja)**\n13. **DynToolbar** - layout utility\n14. **DynPage** - page structure\n15. **DynDatePicker** - complex input\n16. **DynChart** - data visualization\n17. **Ostale komponente** - finishing touches\n\n### 2.2 Detaljni plan po komponentama\n\n## üî¥ FAZA 1: KRITIƒåNE KOMPONENTE\n\n### 2.2.1 DynButton - Priority #1\n\n**Trenutno stanje:** 70% - Design tokens OK, accessibility gaps\n\n#### Problemi za re≈°avanje:\n- TS gre≈°ka: `kind` vs oƒçekivani enum u DynPage testovima\n- Nedostaju jest-axe testovi\n- Nedosledni prop tipovi izmeƒëu komponenti\n\n#### Implementacijski koraci:\n\n**Korak 1: TypeScript standardizacija**\n```typescript\n// DynButton.types.ts - NOVI STANDARD\nexport type DynButtonSize = 'sm' | 'md' | 'lg';\nexport type DynButtonVariant = 'primary' | 'secondary' | 'danger' | 'ghost' | 'link';\nexport type DynButtonType = 'button' | 'submit' | 'reset';\n\nexport interface DynButtonProps extends \n  BaseComponentProps,\n  AccessibilityProps,\n  Omit<React.ButtonHTMLAttributes<HTMLButtonElement>, 'type' | 'size'> {\n  \n  /** Button content */\n  children: React.ReactNode;\n  \n  /** Visual variant */\n  variant?: DynButtonVariant;\n  \n  /** Size variant */\n  size?: DynButtonSize;\n  \n  /** Button type for forms */\n  type?: DynButtonType;\n  \n  /** Disabled state */\n  disabled?: boolean;\n  \n  /** Loading state with spinner */\n  loading?: boolean;\n  \n  /** Full width button */\n  fullWidth?: boolean;\n  \n  /** Icon before text */\n  startIcon?: React.ReactNode;\n  \n  /** Icon after text */\n  endIcon?: React.ReactNode;\n  \n  /** Click handler */\n  onClick?: (event: React.MouseEvent<HTMLButtonElement>) => void;\n}\n\nexport type DynButtonRef = HTMLButtonElement;\n```\n\n**Korak 2: CSS standardizacija**\n```css\n/* Sve hardcodovane vrednosti zameniti tokenima */\n.dyn-button {\n  /* Osnova */\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: var(--dyn-spacing-xs, 0.5rem);\n  \n  /* Typography */\n  font-family: var(--dyn-font-family-base, system-ui);\n  font-weight: var(--dyn-font-weight-medium, 500);\n  text-decoration: none;\n  white-space: nowrap;\n  \n  /* Interaction */\n  cursor: pointer;\n  transition: var(--dyn-transition-base, all 0.2s ease-in-out);\n  \n  /* States */\n  border: none;\n  outline: none;\n}\n\n/* Variants */\n.dyn-button--primary {\n  background: var(--dyn-color-primary, #3b82f6);\n  color: var(--dyn-color-primary-foreground, #ffffff);\n}\n\n.dyn-button--primary:hover:not(:disabled) {\n  background: var(--dyn-color-primary-hover, #2563eb);\n}\n\n.dyn-button--primary:focus-visible {\n  outline: var(--dyn-outline-focus, 2px solid #3b82f6);\n  outline-offset: var(--dyn-outline-offset, 2px);\n}\n\n/* Sizes */\n.dyn-button--sm {\n  height: var(--dyn-size-8, 2rem);\n  padding: 0 var(--dyn-spacing-sm, 0.75rem);\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n}\n\n.dyn-button--md {\n  height: var(--dyn-size-10, 2.5rem);\n  padding: 0 var(--dyn-spacing-md, 1rem);\n  font-size: var(--dyn-font-size-base, 1rem);\n}\n\n/* Disabled state */\n.dyn-button:disabled {\n  opacity: var(--dyn-opacity-disabled, 0.5);\n  cursor: not-allowed;\n}\n\n/* Loading state */\n.dyn-button--loading {\n  cursor: wait;\n  position: relative;\n}\n\n.dyn-button--loading .dyn-button__content {\n  opacity: 0.7;\n}\n```\n\n**Korak 3: Komponenta refaktorisanje**\n```typescript\n// DynButton.tsx - STANDARDIZOVANO\nexport const DynButton = forwardRef<DynButtonRef, DynButtonProps>(\n  ({\n    children,\n    variant = 'primary',\n    size = 'md',\n    type = 'button',\n    disabled = false,\n    loading = false,\n    fullWidth = false,\n    startIcon,\n    endIcon,\n    className,\n    onClick,\n    'aria-label': ariaLabel,\n    'data-testid': dataTestId,\n    ...rest\n  }, ref) => {\n    \n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n      if (loading || disabled) return;\n      onClick?.(event);\n    };\n    \n    const buttonClasses = cn(\n      'dyn-button',\n      `dyn-button--${variant}`,\n      `dyn-button--${size}`,\n      {\n        'dyn-button--disabled': disabled,\n        'dyn-button--loading': loading,\n        'dyn-button--full-width': fullWidth,\n      },\n      className\n    );\n    \n    return (\n      <button\n        ref={ref}\n        type={type}\n        disabled={disabled || loading}\n        className={buttonClasses}\n        aria-label={ariaLabel}\n        aria-busy={loading ? 'true' : undefined}\n        data-testid={dataTestId || 'dyn-button'}\n        onClick={handleClick}\n        {...rest}\n      >\n        {loading && (\n          <span className=\"dyn-button__spinner\" aria-hidden=\"true\">\n            {/* Spinner component */}\n          </span>\n        )}\n        \n        {startIcon && (\n          <span className=\"dyn-button__start-icon\" aria-hidden=\"true\">\n            {startIcon}\n          </span>\n        )}\n        \n        <span className=\"dyn-button__content\">\n          {children}\n        </span>\n        \n        {endIcon && (\n          <span className=\"dyn-button__end-icon\" aria-hidden=\"true\">\n            {endIcon}\n          </span>\n        )}\n      </button>\n    );\n  }\n);\n\nDynButton.displayName = 'DynButton';\n```\n\n**Korak 4: Test modernizacija**\n```typescript\n// DynButton.test.tsx - KOMPLETNI COVERAGE\n// (veƒá je dat template gore)\n```\n\n**Korak 5: Storybook enhancement**\n```typescript\n// DynButton.stories.tsx - KOMPLETNI PRIMERI  \n// (veƒá je dat template gore)\n```\n\n#### Timeline: 3 radna dana\n#### Success criteria:\n- ‚úÖ 0 TS gre≈°aka\n- ‚úÖ 100% test coverage\n- ‚úÖ Axe violations = 0\n- ‚úÖ Svi design tokeni implementirani\n- ‚úÖ Kompletna Storybook dokumentacija\n\n---\n\n### 2.2.2 DynInput - Priority #2\n\n**Trenutno stanje:** 40% - Missing validation, tests\n\n#### Problemi za re≈°avanje:\n- ValidationRule tipovi nisu usklaƒëeni\n- Async/sync validation konflikt (Promise<boolean> vs boolean)\n- Nedosledni hook tipovi\n- Nedostaju aria-invalid, aria-describedby\n\n#### Implementacijski koraci:\n\n**Korak 1: TypeScript standardizacija**\n```typescript\n// DynInput.types.ts - NOVI VALIDATION SISTEM\nexport type DynInputSize = 'sm' | 'md' | 'lg';\nexport type DynInputVariant = 'outlined' | 'filled' | 'underlined';\nexport type DynInputType = 'text' | 'email' | 'password' | 'number' | 'tel' | 'url' | 'search';\n\n// Validation system\nexport type ValidationResult = {\n  isValid: boolean;\n  message?: string;\n};\n\nexport type SyncValidator = (value: string) => ValidationResult;\nexport type AsyncValidator = (value: string) => Promise<ValidationResult>;\n\nexport type ValidationRule = {\n  validator: SyncValidator | AsyncValidator;\n  trigger?: 'onChange' | 'onBlur' | 'onSubmit';\n};\n\nexport interface DynInputProps extends \n  BaseComponentProps,\n  AccessibilityProps,\n  Omit<React.InputHTMLAttributes<HTMLInputElement>, 'size' | 'type'> {\n  \n  /** Input label */\n  label?: string;\n  \n  /** Input type */\n  type?: DynInputType;\n  \n  /** Size variant */\n  size?: DynInputSize;\n  \n  /** Visual variant */\n  variant?: DynInputVariant;\n  \n  /** Placeholder text */\n  placeholder?: string;\n  \n  /** Help text */\n  helpText?: string;\n  \n  /** Error message */\n  error?: string;\n  \n  /** Required field indicator */\n  required?: boolean;\n  \n  /** Disabled state */\n  disabled?: boolean;\n  \n  /** Read-only state */\n  readOnly?: boolean;\n  \n  /** Loading/validating state */\n  loading?: boolean;\n  \n  /** Input value (controlled) */\n  value?: string;\n  \n  /** Default value (uncontrolled) */\n  defaultValue?: string;\n  \n  /** Change handler */\n  onChange?: (value: string, event: React.ChangeEvent<HTMLInputElement>) => void;\n  \n  /** Blur handler */\n  onBlur?: (event: React.FocusEvent<HTMLInputElement>) => void;\n  \n  /** Focus handler */\n  onFocus?: (event: React.FocusEvent<HTMLInputElement>) => void;\n  \n  /** Validation rules */\n  validation?: ValidationRule[];\n  \n  /** Start adornment (icon, text) */\n  startAdornment?: React.ReactNode;\n  \n  /** End adornment (icon, button) */\n  endAdornment?: React.ReactNode;\n  \n  /** Clear button */\n  clearable?: boolean;\n  \n  /** Show password toggle (for password type) */\n  showPasswordToggle?: boolean;\n}\n\nexport type DynInputRef = HTMLInputElement;\n```\n\n**Korak 2: Validation hook**\n```typescript\n// hooks/useValidation.ts\nexport const useValidation = (rules: ValidationRule[]) => {\n  const [validationState, setValidationState] = useState<{\n    isValid: boolean;\n    message?: string;\n    isValidating: boolean;\n  }>({ isValid: true, isValidating: false });\n  \n  const validate = useCallback(async (value: string, trigger: 'onChange' | 'onBlur' | 'onSubmit') => {\n    const applicableRules = rules.filter(rule => \n      !rule.trigger || rule.trigger === trigger\n    );\n    \n    if (applicableRules.length === 0) return { isValid: true };\n    \n    setValidationState(prev => ({ ...prev, isValidating: true }));\n    \n    for (const rule of applicableRules) {\n      try {\n        const result = await Promise.resolve(rule.validator(value));\n        if (!result.isValid) {\n          setValidationState({\n            isValid: false,\n            message: result.message,\n            isValidating: false\n          });\n          return result;\n        }\n      } catch (error) {\n        const errorResult = { isValid: false, message: 'Validation error' };\n        setValidationState({ ...errorResult, isValidating: false });\n        return errorResult;\n      }\n    }\n    \n    const successResult = { isValid: true };\n    setValidationState({ ...successResult, isValidating: false });\n    return successResult;\n  }, [rules]);\n  \n  return { ...validationState, validate };\n};\n```\n\n**Korak 3: CSS standardizacija sa focus management**\n```css\n.dyn-input {\n  /* Container */\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  gap: var(--dyn-spacing-xs, 0.25rem);\n}\n\n.dyn-input__field {\n  /* Base styles */\n  width: 100%;\n  border: var(--dyn-border-width-thin, 1px) solid var(--dyn-color-border-primary, #d1d5db);\n  border-radius: var(--dyn-border-radius-md, 0.375rem);\n  background: var(--dyn-color-bg-primary, #ffffff);\n  color: var(--dyn-color-text-primary, #111827);\n  \n  /* Typography */\n  font-family: var(--dyn-font-family-base, system-ui);\n  font-size: var(--dyn-font-size-base, 1rem);\n  line-height: var(--dyn-line-height-base, 1.5);\n  \n  /* Interaction */\n  transition: var(--dyn-transition-base, all 0.2s ease-in-out);\n  outline: none;\n}\n\n.dyn-input__field:focus {\n  border-color: var(--dyn-color-primary, #3b82f6);\n  box-shadow: var(--dyn-shadow-focus, 0 0 0 3px rgba(59, 130, 246, 0.1));\n}\n\n.dyn-input__field:focus-visible {\n  outline: var(--dyn-outline-focus, 2px solid #3b82f6);\n  outline-offset: var(--dyn-outline-offset, -1px);\n}\n\n/* Error state */\n.dyn-input--error .dyn-input__field {\n  border-color: var(--dyn-color-danger, #ef4444);\n}\n\n.dyn-input--error .dyn-input__field:focus {\n  box-shadow: var(--dyn-shadow-focus-danger, 0 0 0 3px rgba(239, 68, 68, 0.1));\n}\n\n/* Size variants */\n.dyn-input--sm .dyn-input__field {\n  height: var(--dyn-size-8, 2rem);\n  padding: 0 var(--dyn-spacing-sm, 0.75rem);\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n}\n\n.dyn-input--md .dyn-input__field {\n  height: var(--dyn-size-10, 2.5rem);\n  padding: 0 var(--dyn-spacing-md, 1rem);\n  font-size: var(--dyn-font-size-base, 1rem);\n}\n\n/* Label */\n.dyn-input__label {\n  font-size: var(--dyn-font-size-sm, 0.875rem);\n  font-weight: var(--dyn-font-weight-medium, 500);\n  color: var(--dyn-color-text-secondary, #6b7280);\n}\n\n.dyn-input__label--required::after {\n  content: ' *';\n  color: var(--dyn-color-danger, #ef4444);\n}\n\n/* Helper text */\n.dyn-input__helper-text {\n  font-size: var(--dyn-font-size-xs, 0.75rem);\n  color: var(--dyn-color-text-tertiary, #9ca3af);\n}\n\n/* Error text */\n.dyn-input__error-text {\n  font-size: var(--dyn-font-size-xs, 0.75rem);\n  color: var(--dyn-color-danger, #ef4444);\n}\n\n/* Adornments */\n.dyn-input__adornment {\n  display: flex;\n  align-items: center;\n  padding: 0 var(--dyn-spacing-xs, 0.5rem);\n  color: var(--dyn-color-text-tertiary, #9ca3af);\n}\n```\n\n**Korak 4: Komponenta sa accessibility**\n```typescript\n// DynInput.tsx - KOMPLETNA IMPLEMENTACIJA\nexport const DynInput = forwardRef<DynInputRef, DynInputProps>(\n  ({\n    label,\n    type = 'text',\n    size = 'md', \n    variant = 'outlined',\n    placeholder,\n    helpText,\n    error,\n    required = false,\n    disabled = false,\n    readOnly = false,\n    loading = false,\n    value,\n    defaultValue,\n    onChange,\n    onBlur,\n    onFocus,\n    validation = [],\n    startAdornment,\n    endAdornment,\n    clearable = false,\n    showPasswordToggle = false,\n    className,\n    id,\n    'aria-label': ariaLabel,\n    'aria-describedby': ariaDescribedBy,\n    'data-testid': dataTestId,\n    ...rest\n  }, ref) => {\n    \n    const [internalId] = useState(() => id || generateId('input'));\n    const [showPassword, setShowPassword] = useState(false);\n    const [internalValue, setInternalValue] = useState(defaultValue || '');\n    const { isValid, message, isValidating, validate } = useValidation(validation);\n    \n    const currentValue = value !== undefined ? value : internalValue;\n    const isControlled = value !== undefined;\n    const hasError = Boolean(error) || !isValid;\n    const errorMessage = error || message;\n    \n    // Generate IDs for accessibility\n    const labelId = `${internalId}-label`;\n    const helpTextId = helpText ? `${internalId}-help` : undefined;\n    const errorId = hasError ? `${internalId}-error` : undefined;\n    \n    const describedBy = [\n      ariaDescribedBy,\n      helpTextId,\n      errorId\n    ].filter(Boolean).join(' ') || undefined;\n    \n    const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n      const newValue = event.target.value;\n      \n      if (!isControlled) {\n        setInternalValue(newValue);\n      }\n      \n      onChange?.(newValue, event);\n      \n      // Validate on change if rules exist\n      if (validation.length > 0) {\n        validate(newValue, 'onChange');\n      }\n    };\n    \n    const handleBlur = (event: React.FocusEvent<HTMLInputElement>) => {\n      onBlur?.(event);\n      \n      // Validate on blur\n      if (validation.length > 0) {\n        validate(currentValue, 'onBlur');\n      }\n    };\n    \n    const handleClear = () => {\n      const newValue = '';\n      if (!isControlled) {\n        setInternalValue(newValue);\n      }\n      onChange?.(newValue, {} as any);\n    };\n    \n    const togglePasswordVisibility = () => {\n      setShowPassword(prev => !prev);\n    };\n    \n    const inputType = type === 'password' && showPassword ? 'text' : type;\n    \n    const inputClasses = cn(\n      'dyn-input',\n      `dyn-input--${size}`,\n      `dyn-input--${variant}`,\n      {\n        'dyn-input--error': hasError,\n        'dyn-input--disabled': disabled,\n        'dyn-input--loading': loading || isValidating,\n      },\n      className\n    );\n    \n    return (\n      <div className={inputClasses}>\n        {label && (\n          <label \n            id={labelId}\n            htmlFor={internalId}\n            className={cn(\n              'dyn-input__label',\n              { 'dyn-input__label--required': required }\n            )}\n          >\n            {label}\n          </label>\n        )}\n        \n        <div className=\"dyn-input__field-container\">\n          {startAdornment && (\n            <div className=\"dyn-input__adornment dyn-input__adornment--start\">\n              {startAdornment}\n            </div>\n          )}\n          \n          <input\n            ref={ref}\n            id={internalId}\n            type={inputType}\n            value={currentValue}\n            placeholder={placeholder}\n            disabled={disabled}\n            readOnly={readOnly}\n            required={required}\n            aria-label={ariaLabel}\n            aria-labelledby={label ? labelId : undefined}\n            aria-describedby={describedBy}\n            aria-invalid={hasError ? 'true' : undefined}\n            aria-busy={loading || isValidating ? 'true' : undefined}\n            data-testid={dataTestId || 'dyn-input'}\n            className=\"dyn-input__field\"\n            onChange={handleChange}\n            onBlur={handleBlur}\n            onFocus={onFocus}\n            {...rest}\n          />\n          \n          {/* End adornments */}\n          <div className=\"dyn-input__adornment-group\">\n            {loading || isValidating ? (\n              <div className=\"dyn-input__spinner\" aria-label=\"Validating...\">\n                {/* Spinner component */}\n              </div>\n            ) : null}\n            \n            {clearable && currentValue && !disabled && !readOnly && (\n              <button\n                type=\"button\"\n                className=\"dyn-input__clear-button\"\n                aria-label=\"Clear input\"\n                onClick={handleClear}\n              >\n                ‚úï\n              </button>\n            )}\n            \n            {type === 'password' && showPasswordToggle && (\n              <button\n                type=\"button\"\n                className=\"dyn-input__password-toggle\"\n                aria-label={showPassword ? 'Hide password' : 'Show password'}\n                onClick={togglePasswordVisibility}\n              >\n                {showPassword ? 'üôà' : 'üëÅ'}\n              </button>\n            )}\n            \n            {endAdornment && (\n              <div className=\"dyn-input__adornment dyn-input__adornment--end\">\n                {endAdornment}\n              </div>\n            )}\n          </div>\n        </div>\n        \n        {/* Helper text */}\n        {helpText && !hasError && (\n          <div id={helpTextId} className=\"dyn-input__helper-text\">\n            {helpText}\n          </div>\n        )}\n        \n        {/* Error message */}\n        {hasError && errorMessage && (\n          <div \n            id={errorId} \n            className=\"dyn-input__error-text\"\n            role=\"alert\"\n            aria-live=\"polite\"\n          >\n            {errorMessage}\n          </div>\n        )}\n      </div>\n    );\n  }\n);\n\nDynInput.displayName = 'DynInput';\n```\n\n#### Timeline: 4 radna dana\n#### Success criteria:\n- ‚úÖ Validation sistem potpuno funkcionalan\n- ‚úÖ Async/sync validation podr≈æani\n- ‚úÖ ARIA labels i live regions\n- ‚úÖ 100% test coverage\n- ‚úÖ Design token integration\n\n---\n\n### 2.2.3 DynBox - Priority #3\n\n**Trenutno stanje:** 75% - Good foundation, needs tests\n\n#### Problemi za re≈°avanje:\n- Prop-ovi (padding, radius, background, align, justify, direction, wrap) nisu definisani u tipovima\n- CSS API nije konzistentan sa Box konvencijama (paddingX/Y, gap)\n- Layout semantika nije jasna\n\n#### Implementacijski koraci:\n\n**Korak 1: TypeScript standardizacija sa Flexbox/Grid API**\n```typescript\n// DynBox.types.ts - LAYOUT UTILITY STANDARD\nexport type DynBoxDisplay = 'block' | 'flex' | 'grid' | 'inline' | 'inline-block' | 'inline-flex' | 'none';\nexport type DynBoxDirection = 'row' | 'column' | 'row-reverse' | 'column-reverse';\nexport type DynBoxWrap = 'nowrap' | 'wrap' | 'wrap-reverse';\nexport type DynBoxAlign = 'flex-start' | 'center' | 'flex-end' | 'stretch' | 'baseline';\nexport type DynBoxJustify = 'flex-start' | 'center' | 'flex-end' | 'space-between' | 'space-around' | 'space-evenly';\nexport type DynBoxSpacing = 0 | 1 | 2 | 3 | 4 | 5 | 6 | 8 | 10 | 12 | 16 | 20 | 24;\nexport type DynBoxRadius = 'none' | 'sm' | 'md' | 'lg' | 'xl' | 'full';\nexport type DynBoxShadow = 'none' | 'sm' | 'md' | 'lg' | 'xl';\n\nexport interface DynBoxProps extends \n  BaseComponentProps,\n  AccessibilityProps,\n  Omit<React.HTMLAttributes<HTMLDivElement>, 'color'> {\n  \n  /** Display type */\n  display?: DynBoxDisplay;\n  \n  /** Flex direction (when display is flex) */\n  direction?: DynBoxDirection;\n  \n  /** Flex wrap */\n  wrap?: DynBoxWrap;\n  \n  /** Align items */\n  align?: DynBoxAlign;\n  \n  /** Justify content */\n  justify?: DynBoxJustify;\n  \n  /** Gap between items */\n  gap?: DynBoxSpacing;\n  \n  /** Padding all sides */\n  padding?: DynBoxSpacing;\n  \n  /** Padding X-axis (left/right) */\n  paddingX?: DynBoxSpacing;\n  \n  /** Padding Y-axis (top/bottom) */\n  paddingY?: DynBoxSpacing;\n  \n  /** Padding top */\n  paddingTop?: DynBoxSpacing;\n  \n  /** Padding right */\n  paddingRight?: DynBoxSpacing;\n  \n  /** Padding bottom */\n  paddingBottom?: DynBoxSpacing;\n  \n  /** Padding left */\n  paddingLeft?: DynBoxSpacing;\n  \n  /** Margin all sides */\n  margin?: DynBoxSpacing;\n  \n  /** Margin X-axis (left/right) */\n  marginX?: DynBoxSpacing;\n  \n  /** Margin Y-axis (top/bottom) */\n  marginY?: DynBoxSpacing;\n  \n  /** Width */\n  width?: string | number;\n  \n  /** Height */\n  height?: string | number;\n  \n  /** Min width */\n  minWidth?: string | number;\n  \n  /** Min height */\n  minHeight?: string | number;\n  \n  /** Max width */\n  maxWidth?: string | number;\n  \n  /** Max height */\n  maxHeight?: string | number;\n  \n  /** Background color token */\n  background?: string;\n  \n  /** Border radius */\n  radius?: DynBoxRadius;\n  \n  /** Box shadow */\n  shadow?: DynBoxShadow;\n  \n  /** Border width */\n  borderWidth?: number;\n  \n  /** Border color token */\n  borderColor?: string;\n  \n  /** Position */\n  position?: 'static' | 'relative' | 'absolute' | 'fixed' | 'sticky';\n  \n  /** Z-index */\n  zIndex?: number;\n  \n  /** Overflow */\n  overflow?: 'visible' | 'hidden' | 'scroll' | 'auto';\n  \n  /** HTML element to render */\n  as?: keyof JSX.IntrinsicElements;\n  \n  /** Content */\n  children?: React.ReactNode;\n}\n\nexport type DynBoxRef = HTMLDivElement;\n```\n\n**Korak 2: CSS utility system**\n```css\n/* DynBox.module.css - DESIGN SYSTEM UTILITIES */\n.dyn-box {\n  /* Reset */\n  box-sizing: border-box;\n}\n\n/* Display utilities */\n.dyn-box--display-block { display: block; }\n.dyn-box--display-flex { display: flex; }\n.dyn-box--display-grid { display: grid; }\n.dyn-box--display-inline { display: inline; }\n.dyn-box--display-inline-block { display: inline-block; }\n.dyn-box--display-inline-flex { display: inline-flex; }\n.dyn-box--display-none { display: none; }\n\n/* Flex utilities */\n.dyn-box--direction-row { flex-direction: row; }\n.dyn-box--direction-column { flex-direction: column; }\n.dyn-box--direction-row-reverse { flex-direction: row-reverse; }\n.dyn-box--direction-column-reverse { flex-direction: column-reverse; }\n\n.dyn-box--wrap-nowrap { flex-wrap: nowrap; }\n.dyn-box--wrap-wrap { flex-wrap: wrap; }\n.dyn-box--wrap-wrap-reverse { flex-wrap: wrap-reverse; }\n\n.dyn-box--align-flex-start { align-items: flex-start; }\n.dyn-box--align-center { align-items: center; }\n.dyn-box--align-flex-end { align-items: flex-end; }\n.dyn-box--align-stretch { align-items: stretch; }\n.dyn-box--align-baseline { align-items: baseline; }\n\n.dyn-box--justify-flex-start { justify-content: flex-start; }\n.dyn-box--justify-center { justify-content: center; }\n.dyn-box--justify-flex-end { justify-content: flex-end; }\n.dyn-box--justify-space-between { justify-content: space-between; }\n.dyn-box--justify-space-around { justify-content: space-around; }\n.dyn-box--justify-space-evenly { justify-content: space-evenly; }\n\n/* Spacing utilities (using design tokens) */\n.dyn-box--gap-0 { gap: 0; }\n.dyn-box--gap-1 { gap: var(--dyn-spacing-1, 0.25rem); }\n.dyn-box--gap-2 { gap: var(--dyn-spacing-2, 0.5rem); }\n.dyn-box--gap-3 { gap: var(--dyn-spacing-3, 0.75rem); }\n.dyn-box--gap-4 { gap: var(--dyn-spacing-4, 1rem); }\n.dyn-box--gap-5 { gap: var(--dyn-spacing-5, 1.25rem); }\n.dyn-box--gap-6 { gap: var(--dyn-spacing-6, 1.5rem); }\n.dyn-box--gap-8 { gap: var(--dyn-spacing-8, 2rem); }\n.dyn-box--gap-10 { gap: var(--dyn-spacing-10, 2.5rem); }\n.dyn-box--gap-12 { gap: var(--dyn-spacing-12, 3rem); }\n.dyn-box--gap-16 { gap: var(--dyn-spacing-16, 4rem); }\n.dyn-box--gap-20 { gap: var(--dyn-spacing-20, 5rem); }\n.dyn-box--gap-24 { gap: var(--dyn-spacing-24, 6rem); }\n\n/* Padding utilities */\n.dyn-box--p-0 { padding: 0; }\n.dyn-box--p-1 { padding: var(--dyn-spacing-1, 0.25rem); }\n.dyn-box--p-2 { padding: var(--dyn-spacing-2, 0.5rem); }\n.dyn-box--p-3 { padding: var(--dyn-spacing-3, 0.75rem); }\n.dyn-box--p-4 { padding: var(--dyn-spacing-4, 1rem); }\n.dyn-box--p-5 { padding: var(--dyn-spacing-5, 1.25rem); }\n.dyn-box--p-6 { padding: var(--dyn-spacing-6, 1.5rem); }\n.dyn-box--p-8 { padding: var(--dyn-spacing-8, 2rem); }\n.dyn-box--p-10 { padding: var(--dyn-spacing-10, 2.5rem); }\n.dyn-box--p-12 { padding: var(--dyn-spacing-12, 3rem); }\n.dyn-box--p-16 { padding: var(--dyn-spacing-16, 4rem); }\n.dyn-box--p-20 { padding: var(--dyn-spacing-20, 5rem); }\n.dyn-box--p-24 { padding: var(--dyn-spacing-24, 6rem); }\n\n/* Padding X-axis */\n.dyn-box--px-0 { padding-left: 0; padding-right: 0; }\n.dyn-box--px-1 { padding-left: var(--dyn-spacing-1, 0.25rem); padding-right: var(--dyn-spacing-1, 0.25rem); }\n.dyn-box--px-2 { padding-left: var(--dyn-spacing-2, 0.5rem); padding-right: var(--dyn-spacing-2, 0.5rem); }\n/* ... (continue pattern) */\n\n/* Padding Y-axis */\n.dyn-box--py-0 { padding-top: 0; padding-bottom: 0; }\n.dyn-box--py-1 { padding-top: var(--dyn-spacing-1, 0.25rem); padding-bottom: var(--dyn-spacing-1, 0.25rem); }\n.dyn-box--py-2 { padding-top: var(--dyn-spacing-2, 0.5rem); padding-bottom: var(--dyn-spacing-2, 0.5rem); }\n/* ... (continue pattern) */\n\n/* Border radius */\n.dyn-box--radius-none { border-radius: 0; }\n.dyn-box--radius-sm { border-radius: var(--dyn-border-radius-sm, 0.125rem); }\n.dyn-box--radius-md { border-radius: var(--dyn-border-radius-md, 0.375rem); }\n.dyn-box--radius-lg { border-radius: var(--dyn-border-radius-lg, 0.5rem); }\n.dyn-box--radius-xl { border-radius: var(--dyn-border-radius-xl, 0.75rem); }\n.dyn-box--radius-full { border-radius: var(--dyn-border-radius-full, 9999px); }\n\n/* Shadow */\n.dyn-box--shadow-none { box-shadow: none; }\n.dyn-box--shadow-sm { box-shadow: var(--dyn-shadow-sm, 0 1px 2px 0 rgba(0, 0, 0, 0.05)); }\n.dyn-box--shadow-md { box-shadow: var(--dyn-shadow-md, 0 4px 6px -1px rgba(0, 0, 0, 0.1)); }\n.dyn-box--shadow-lg { box-shadow: var(--dyn-shadow-lg, 0 10px 15px -3px rgba(0, 0, 0, 0.1)); }\n.dyn-box--shadow-xl { box-shadow: var(--dyn-shadow-xl, 0 20px 25px -5px rgba(0, 0, 0, 0.1)); }\n\n/* Position */\n.dyn-box--position-static { position: static; }\n.dyn-box--position-relative { position: relative; }\n.dyn-box--position-absolute { position: absolute; }\n.dyn-box--position-fixed { position: fixed; }\n.dyn-box--position-sticky { position: sticky; }\n\n/* Overflow */\n.dyn-box--overflow-visible { overflow: visible; }\n.dyn-box--overflow-hidden { overflow: hidden; }\n.dyn-box--overflow-scroll { overflow: scroll; }\n.dyn-box--overflow-auto { overflow: auto; }\n```\n\n**Korak 3: Smart komponenta sa utility generation**\n```typescript\n// DynBox.tsx - LAYOUT UTILITY ENGINE\nconst generateSpacingClass = (type: 'gap' | 'p' | 'px' | 'py' | 'pt' | 'pr' | 'pb' | 'pl' | 'm' | 'mx' | 'my', value?: DynBoxSpacing) => {\n  if (value === undefined || value === null) return '';\n  return `dyn-box--${type}-${value}`;\n};\n\nconst generateDimensionStyle = (prop: string, value?: string | number) => {\n  if (value === undefined || value === null) return {};\n  \n  if (typeof value === 'number') {\n    return { [prop]: `${value}px` };\n  }\n  \n  // Check if it's a design token\n  if (value.startsWith('--dyn-')) {\n    return { [prop]: `var(${value})` };\n  }\n  \n  return { [prop]: value };\n};\n\nexport const DynBox = forwardRef<DynBoxRef, DynBoxProps>(\n  ({\n    display = 'block',\n    direction,\n    wrap,\n    align,\n    justify,\n    gap,\n    padding,\n    paddingX,\n    paddingY,\n    paddingTop,\n    paddingRight,\n    paddingBottom,\n    paddingLeft,\n    margin,\n    marginX,\n    marginY,\n    width,\n    height,\n    minWidth,\n    minHeight,\n    maxWidth,\n    maxHeight,\n    background,\n    radius = 'none',\n    shadow = 'none',\n    borderWidth,\n    borderColor,\n    position = 'static',\n    zIndex,\n    overflow,\n    as: Component = 'div',\n    children,\n    className,\n    style,\n    'data-testid': dataTestId,\n    ...rest\n  }, ref) => {\n    \n    const boxClasses = cn(\n      'dyn-box',\n      `dyn-box--display-${display}`,\n      direction && `dyn-box--direction-${direction}`,\n      wrap && `dyn-box--wrap-${wrap}`,\n      align && `dyn-box--align-${align}`,\n      justify && `dyn-box--justify-${justify}`,\n      generateSpacingClass('gap', gap),\n      generateSpacingClass('p', padding),\n      generateSpacingClass('px', paddingX),\n      generateSpacingClass('py', paddingY),\n      generateSpacingClass('m', margin),\n      generateSpacingClass('mx', marginX),\n      generateSpacingClass('my', marginY),\n      radius && `dyn-box--radius-${radius}`,\n      shadow && `dyn-box--shadow-${shadow}`,\n      position && `dyn-box--position-${position}`,\n      overflow && `dyn-box--overflow-${overflow}`,\n      className\n    );\n    \n    const boxStyles = {\n      ...generateDimensionStyle('width', width),\n      ...generateDimensionStyle('height', height),\n      ...generateDimensionStyle('minWidth', minWidth),\n      ...generateDimensionStyle('minHeight', minHeight),\n      ...generateDimensionStyle('maxWidth', maxWidth),\n      ...generateDimensionStyle('maxHeight', maxHeight),\n      ...(background && {\n        backgroundColor: background.startsWith('--dyn-') \n          ? `var(${background})` \n          : background\n      }),\n      ...(borderWidth && {\n        borderWidth: `${borderWidth}px`,\n        borderStyle: 'solid'\n      }),\n      ...(borderColor && {\n        borderColor: borderColor.startsWith('--dyn-') \n          ? `var(${borderColor})` \n          : borderColor\n      }),\n      ...(zIndex !== undefined && { zIndex }),\n      ...(paddingTop !== undefined && { paddingTop: `var(--dyn-spacing-${paddingTop})` }),\n      ...(paddingRight !== undefined && { paddingRight: `var(--dyn-spacing-${paddingRight})` }),\n      ...(paddingBottom !== undefined && { paddingBottom: `var(--dyn-spacing-${paddingBottom})` }),\n      ...(paddingLeft !== undefined && { paddingLeft: `var(--dyn-spacing-${paddingLeft})` }),\n      ...style\n    };\n    \n    return (\n      <Component\n        ref={ref}\n        className={boxClasses}\n        style={boxStyles}\n        data-testid={dataTestId || 'dyn-box'}\n        {...rest}\n      >\n        {children}\n      </Component>\n    );\n  }\n);\n\nDynBox.displayName = 'DynBox';\n```\n\n#### Timeline: 2 radna dana\n#### Success criteria:\n- ‚úÖ Svi layout prop-ovi dostupni\n- ‚úÖ Design token integration 100%\n- ‚úÖ Utility class system\n- ‚úÖ Semantic HTML variants (as prop)\n- ‚úÖ TypeScript inferenca za sve prop-ove\n\n---\n\n### 2.2.4 DynLabel - Priority #4\n\n**Trenutno stanje:** Nepoznato - accessibility pairing komponenta\n\n#### Implementacijski koraci:\n\n**Korak 1: TypeScript definicija**\n```typescript\n// DynLabel.types.ts - ACCESSIBILITY HELPER\nexport type DynLabelSize = 'sm' | 'md' | 'lg';\nexport type DynLabelWeight = 'normal' | 'medium' | 'semibold' | 'bold';\nexport type DynLabelVariant = 'primary' | 'secondary' | 'success' | 'warning' | 'danger';\n\nexport interface DynLabelProps extends \n  BaseComponentProps,\n  AccessibilityProps,\n  Omit<React.LabelHTMLAttributes<HTMLLabelElement>, 'htmlFor'> {\n  \n  /** Text content */\n  children: React.ReactNode;\n  \n  /** Associated form control ID */\n  htmlFor?: string;\n  \n  /** Size variant */\n  size?: DynLabelSize;\n  \n  /** Font weight */\n  weight?: DynLabelWeight;\n  \n  /** Color variant */\n  variant?: DynLabelVariant;\n  \n  /** Required field indicator */\n  required?: boolean;\n  \n  /** Optional field indicator */\n  optional?: boolean;\n  \n  /** Help text/description */\n  description?: string;\n  \n  /** Error state */\n  error?: boolean;\n  \n  /** Disabled state */\n  disabled?: boolean;\n}\n\nexport type DynLabelRef = HTMLLabelElement;\n```\n\n**Korak 2: Minimalna ali kompletna implementacija**\n```typescript\n// DynLabel.tsx - ACCESSIBILITY FOCUSED\nexport const DynLabel = forwardRef<DynLabelRef, DynLabelProps>(\n  ({\n    children,\n    htmlFor,\n    size = 'md',\n    weight = 'medium',\n    variant = 'primary',\n    required = false,\n    optional = false,\n    description,\n    error = false,\n    disabled = false,\n    className,\n    'data-testid': dataTestId,\n    ...rest\n  }, ref) => {\n    \n    const labelClasses = cn(\n      'dyn-label',\n      `dyn-label--${size}`,\n      `dyn-label--${weight}`,\n      `dyn-label--${variant}`,\n      {\n        'dyn-label--required': required,\n        'dyn-label--optional': optional,\n        'dyn-label--error': error,\n        'dyn-label--disabled': disabled,\n      },\n      className\n    );\n    \n    return (\n      <div className=\"dyn-label-wrapper\">\n        <label\n          ref={ref}\n          htmlFor={htmlFor}\n          className={labelClasses}\n          data-testid={dataTestId || 'dyn-label'}\n          {...rest}\n        >\n          <span className=\"dyn-label__text\">{children}</span>\n          \n          {required && (\n            <span className=\"dyn-label__required\" aria-label=\"required\">\n              *\n            </span>\n          )}\n          \n          {optional && (\n            <span className=\"dyn-label__optional\">\n              (optional)\n            </span>\n          )}\n        </label>\n        \n        {description && (\n          <div className=\"dyn-label__description\">\n            {description}\n          </div>\n        )}\n      </div>\n    );\n  }\n);\n\nDynLabel.displayName = 'DynLabel';\n```\n\n#### Timeline: 1 radni dan\n#### Success criteria:\n- ‚úÖ Puna accessibility podr≈°ka\n- ‚úÖ Integration sa DynInput i ostalim form komponentama\n- ‚úÖ Design token consistency\n\n---\n\n# üü° FAZA 2: INTERAKTIVNE KOMPONENTE\n\n### 2.2.5 DynSelect - Priority #5\n\n**Trenutno stanje:** Nepoznato - complex interaction komponenta\n\n#### Kljuƒçni zahtevi:\n- Keyboard navigation (Arrow keys, Enter, Escape, Type-ahead)\n- ARIA roles (combobox, listbox, option)\n- Controlled/uncontrolled modes\n- Multi-select support\n- Search/filtering\n- Custom option rendering\n- Virtualization za velike liste\n- Loading states\n\n#### Timeline: 5 radnih dana\n\n### 2.2.6 DynCheckbox - Priority #6\n\n**Trenutno stanje:** Nepoznato - form control\n\n#### Kljuƒçni zahtevi:\n- Indeterminate state\n- Controlled/uncontrolled\n- Label association\n- Keyboard navigation\n- Custom icons\n- Error states\n\n#### Timeline: 2 radna dana\n\n### 2.2.7 DynTabs - Priority #7\n\n**Trenutno stanje:** 60% - State management issues\n\n#### Problemi za re≈°avanje:\n- Prop-ovi value, orientation, activation, fitted nisu definisani\n- DynTabItem tipovi nisu eksportovani\n- Poziv funkcije nad 'never' tip\n- Nedostaju ARIA atributi\n- Keyboard navigation ne postoji\n\n#### Timeline: 4 radna dana\n\n### 2.2.8 DynModal - Priority #8\n\n**Trenutno stanje:** 40% - Focus management issues\n\n#### Problemi za re≈°avanje:\n- Focus trap implementation\n- Scroll lock\n- ESC key handling\n- Backdrop click\n- ARIA modal attributes\n- Portal rendering\n- Animation/transitions\n\n#### Timeline: 5 radnih dana\n\n---\n\n# üü† FAZA 3: SLO≈ΩENE KOMPONENTE\n\n### 2.2.9 DynStepper - Priority #9\n\n**Trenutno stanje:** 60% - Complex logic, needs refactor\n\n#### Problemi za re≈°avanje:\n- DynStepperRef, DynStep tipovi ne postoje\n- value/defaultValue/onChange nepoznati tipu\n- ARIA current step indication\n- Keyboard navigation\n- Step validation\n- Custom step rendering\n\n#### Timeline: 5 radnih dana\n\n### 2.2.10 DynMenu - Priority #10\n\n**Trenutno stanje:** Nepoznato - navigation complexity\n\n#### Problemi za re≈°avanje:\n- MenuItem tipovi (divider vs item) nekonzistentni\n- Orientation i akcije nisu tipski definisane\n- ARIA menu/menuitem roles\n- Submenu support\n- Keyboard navigation (Arrow keys, Home/End)\n- Focus management\n\n#### Timeline: 6 radnih dana\n\n### 2.2.11 DynListView - Priority #11\n\n**Trenutno stanje:** Nepoznato - data presentation\n\n#### Problemi za re≈°avanje:\n- Prop-ovi (items, value, defaultValue, multiSelect) ne postoje u tipu\n- ARIA listbox roles\n- Virtual scrolling za velike liste\n- Selection management\n- Custom item rendering\n- Search/filtering\n\n#### Timeline: 5 radnih dana\n\n### 2.2.12 DynTreeView - Priority #12\n\n**Trenutno stanje:** Nepoznato - hierarchical data\n\n#### Problemi za re≈°avanje:\n- checkStrictly, showSearch nisu u tipu\n- ARIA tree/treeitem roles\n- Expansion/collapse states\n- Selection management\n- Keyboard navigation (Arrow keys, Enter, Space)\n- Lazy loading\n- Custom node rendering\n\n#### Timeline: 7 radnih dana\n\n---\n\n# üü¢ FAZA 4: FINALNE KOMPONENTE\n\n### 2.2.13-26 Ostale komponente\n\n- **DynToolbar** - 3 radna dana\n- **DynPage** - 3 radna dana  \n- **DynDatePicker** - 5 radnih dana\n- **DynChart** - 4 radna dana\n- **DynBadge** - 1 radni dan\n- **DynBreadcrumb** - 2 radna dana\n- **DynContainer** - 1 radni dan\n- **DynDivider** - 1 radni dan\n- **DynFieldContainer** - 2 radna dana\n- **DynGauge** - 3 radna dana\n- **DynGrid** - 2 radna dana\n- **DynIcon** - 1 radni dan\n- **DynTextArea** - 2 radna dana\n- **ThemeSwitcher** - 1 radni dan\n\n---\n\n## üîß Deo III: Operacionalizacija i CI/CD\n\n### 3.1 Automatizovane provere\n\n#### 3.1.1 Quality Gates (pre-commit)\n```bash\n#!/bin/bash\n# scripts/quality-gates.sh\n\necho \"üîç Running DynUI Quality Gates...\"\n\n# 1. TypeScript compilation\necho \"üìò Checking TypeScript...\"\nnpx tsc --noEmit\nif [ $? -ne 0 ]; then\n  echo \"‚ùå TypeScript errors found\"\n  exit 1\nfi\n\n# 2. Design Token Validation\necho \"üé® Validating Design Tokens...\"\nif grep -r \"rgb\\|hsl\\|#[0-9a-fA-F]\\{3,6\\}\" packages/dyn-ui-react/src/components --exclude-dir=node_modules --include=\"*.css\" --include=\"*.tsx\"; then\n  echo \"‚ùå Hardcoded colors found - use design tokens instead\"\n  exit 1\nfi\n\nif grep -r \"[0-9]\\+px\" packages/dyn-ui-react/src/components --exclude-dir=node_modules --include=\"*.css\" --exclude=\"*.test.*\"; then\n  echo \"‚ùå Hardcoded pixel values found - use design tokens instead\"\n  exit 1\nfi\n\n# 3. Export Contract Validation\necho \"üì¶ Validating Exports...\"\nnode scripts/validate-exports.js\nif [ $? -ne 0 ]; then\n  echo \"‚ùå Export contract violations found\"\n  exit 1\nfi\n\n# 4. Test Coverage\necho \"üß™ Checking Test Coverage...\"\nnpx vitest run --coverage --reporter=json > coverage.json\nCOVERAGE=$(cat coverage.json | jq '.total.lines.pct')\nif (( $(echo \"$COVERAGE < 95\" | bc -l) )); then\n  echo \"‚ùå Test coverage below 95% (current: $COVERAGE%)\"\n  exit 1\nfi\n\n# 5. Accessibility Testing\necho \"‚ôø Running Accessibility Tests...\"\nnpx vitest run --grep \"accessibility|axe\" --reporter=verbose\nif [ $? -ne 0 ]; then\n  echo \"‚ùå Accessibility violations found\"\n  exit 1\nfi\n\n# 6. Storybook Build\necho \"üìñ Building Storybook...\"\nnpx build-storybook --quiet\nif [ $? -ne 0 ]; then\n  echo \"‚ùå Storybook build failed\"\n  exit 1\nfi\n\necho \"‚úÖ All quality gates passed!\"\n```\n\n#### 3.1.2 Export contract validator\n```javascript\n// scripts/validate-exports.js\nconst fs = require('fs');\nconst path = require('path');\n\nconst COMPONENTS_DIR = 'packages/dyn-ui-react/src/components';\nconst REQUIRED_EXPORTS = {\n  types: ['Props', 'Ref'],\n  components: ['default']\n};\n\nfunction validateComponent(componentName) {\n  const componentDir = path.join(COMPONENTS_DIR, componentName);\n  \n  if (!fs.existsSync(componentDir)) return;\n  \n  // Check file structure\n  const requiredFiles = [\n    `${componentName}.tsx`,\n    `${componentName}.types.ts`,\n    `${componentName}.module.css`,\n    `${componentName}.test.tsx`,\n    `${componentName}.stories.tsx`,\n    'index.ts'\n  ];\n  \n  for (const file of requiredFiles) {\n    const filePath = path.join(componentDir, file);\n    if (!fs.existsSync(filePath)) {\n      console.error(`‚ùå Missing file: ${componentName}/${file}`);\n      process.exit(1);\n    }\n  }\n  \n  // Check types export\n  const typesContent = fs.readFileSync(\n    path.join(componentDir, `${componentName}.types.ts`), \n    'utf8'\n  );\n  \n  if (!typesContent.includes(`export interface ${componentName}Props`)) {\n    console.error(`‚ùå Missing ${componentName}Props export`);\n    process.exit(1);\n  }\n  \n  if (!typesContent.includes(`export type ${componentName}Ref`)) {\n    console.error(`‚ùå Missing ${componentName}Ref export`);\n    process.exit(1);\n  }\n  \n  // Check index.ts exports\n  const indexContent = fs.readFileSync(\n    path.join(componentDir, 'index.ts'),\n    'utf8'\n  );\n  \n  if (!indexContent.includes(`export { default as ${componentName} }`)) {\n    console.error(`‚ùå Missing default component export in ${componentName}/index.ts`);\n    process.exit(1);\n  }\n  \n  console.log(`‚úÖ ${componentName} exports validated`);\n}\n\n// Get all component directories\nconst components = fs.readdirSync(COMPONENTS_DIR)\n  .filter(item => {\n    const fullPath = path.join(COMPONENTS_DIR, item);\n    return fs.statSync(fullPath).isDirectory() && item.startsWith('Dyn');\n  });\n\ncomponents.forEach(validateComponent);\nconsole.log(`‚úÖ All ${components.length} components validated`);\n```\n\n### 3.2 GitHub Actions Workflow\n\n```yaml\n# .github/workflows/component-standardization.yml\nname: Component Standardization\n\non:\n  pull_request:\n    branches: [ main ]\n    paths: \n      - 'packages/dyn-ui-react/src/components/**'\n  push:\n    branches: [ main ]\n\njobs:\n  quality-gates:\n    runs-on: ubuntu-latest\n    \n    steps:\n    - uses: actions/checkout@v4\n    \n    - name: Setup Node.js\n      uses: actions/setup-node@v4\n      with:\n        node-version: '18'\n        cache: 'npm'\n    \n    - name: Install dependencies\n      run: npm ci\n    \n    - name: Run Quality Gates\n      run: ./scripts/quality-gates.sh\n    \n    - name: Component Compliance Report\n      run: node scripts/compliance-report.js\n    \n    - name: Upload Coverage\n      uses: codecov/codecov-action@v3\n      with:\n        file: ./coverage.json\n\n  visual-regression:\n    runs-on: ubuntu-latest\n    \n    steps:\n    - uses: actions/checkout@v4\n      with:\n        fetch-depth: 0\n    \n    - name: Setup Node.js\n      uses: actions/setup-node@v4\n      with:\n        node-version: '18'\n        cache: 'npm'\n    \n    - name: Install dependencies\n      run: npm ci\n    \n    - name: Run Chromatic\n      uses: chromaui/action@v1\n      with:\n        projectToken: ${{ secrets.CHROMATIC_PROJECT_TOKEN }}\n        buildScriptName: build-storybook\n        onlyChanged: true\n```\n\n### 3.3 Tracking Dashboard\n\n```typescript\n// scripts/compliance-report.js\nconst fs = require('fs');\nconst path = require('path');\n\nconst COMPONENTS = [\n  'DynAvatar', 'DynButton', 'DynBox', 'DynInput', 'DynLabel',\n  'DynSelect', 'DynCheckbox', 'DynTabs', 'DynModal', 'DynStepper',\n  'DynMenu', 'DynListView', 'DynTreeView', 'DynToolbar', 'DynPage'\n  // ... add all components\n];\n\nfunction checkComponentCompliance(componentName) {\n  const checks = {\n    fileStructure: false,\n    typeScript: false,\n    designTokens: false,\n    tests: false,\n    accessibility: false,\n    storybook: false\n  };\n  \n  const componentDir = `packages/dyn-ui-react/src/components/${componentName}`;\n  \n  // File structure check\n  const requiredFiles = [\n    `${componentName}.tsx`,\n    `${componentName}.types.ts`, \n    `${componentName}.module.css`,\n    `${componentName}.test.tsx`,\n    `${componentName}.stories.tsx`,\n    'index.ts'\n  ];\n  \n  checks.fileStructure = requiredFiles.every(file => \n    fs.existsSync(path.join(componentDir, file))\n  );\n  \n  // TypeScript check (run tsc on component)\n  // Design tokens check (grep for hardcoded values)\n  // Test coverage check\n  // Accessibility check (axe violations)\n  // Storybook check (build success)\n  \n  const complianceScore = Object.values(checks)\n    .reduce((acc, check) => acc + (check ? 1 : 0), 0) / Object.keys(checks).length;\n  \n  return {\n    component: componentName,\n    score: Math.round(complianceScore * 100),\n    checks\n  };\n}\n\nfunction generateReport() {\n  const results = COMPONENTS.map(checkComponentCompliance);\n  const totalScore = results.reduce((acc, r) => acc + r.score, 0) / results.length;\n  \n  console.log('\\nüèóÔ∏è DynUI Component Standardization Report\\n');\n  console.log(`üìä Overall Compliance: ${Math.round(totalScore)}%\\n`);\n  \n  results.forEach(result => {\n    const status = result.score >= 100 ? '‚úÖ' : \n                   result.score >= 75 ? 'üü°' : 'üî¥';\n    console.log(`${status} ${result.component}: ${result.score}%`);\n  });\n  \n  console.log('\\nüìã Detailed Breakdown:');\n  console.log('Component\\t\\tScore\\tFiles\\tTS\\tTokens\\tTests\\tA11y\\tStory');\n  \n  results.forEach(r => {\n    const { component, score, checks } = r;\n    const row = [\n      component.padEnd(20),\n      `${score}%`.padEnd(6),\n      checks.fileStructure ? '‚úÖ' : '‚ùå',\n      checks.typeScript ? '‚úÖ' : '‚ùå', \n      checks.designTokens ? '‚úÖ' : '‚ùå',\n      checks.tests ? '‚úÖ' : '‚ùå',\n      checks.accessibility ? '‚úÖ' : '‚ùå',\n      checks.storybook ? '‚úÖ' : '‚ùå'\n    ].join('\\t');\n    console.log(row);\n  });\n  \n  // Generate JSON for CI\n  fs.writeFileSync('compliance-report.json', JSON.stringify({\n    timestamp: new Date().toISOString(),\n    overallScore: totalScore,\n    components: results\n  }, null, 2));\n}\n\ngenerateReport();\n```\n\n---\n\n## ‚è±Ô∏è Deo IV: Detaljni timeline i resursi\n\n### 4.1 Faze i meƒëusobne zavisnosti\n\n```mermaid\ngantt\n    title DynUI Standardization Timeline\n    dateFormat  YYYY-MM-DD\n    section Phase 1\n    DynButton           :active, button, 2025-10-21, 3d\n    DynInput           :input, after button, 4d \n    DynBox             :box, after button, 2d\n    DynLabel           :label, after input, 1d\n    \n    section Phase 2\n    DynSelect          :select, after label, 5d\n    DynCheckbox        :checkbox, after label, 2d\n    DynTabs            :tabs, after select, 4d\n    DynModal           :modal, after checkbox, 5d\n    \n    section Phase 3\n    DynStepper         :stepper, after modal, 5d\n    DynMenu            :menu, after tabs, 6d\n    DynListView        :listview, after stepper, 5d\n    DynTreeView        :treeview, after menu, 7d\n    \n    section Phase 4\n    Remaining Components :remaining, after treeview, 14d\n    Final QA           :qa, after remaining, 3d\n```\n\n### 4.2 Resurs alokacija\n\n#### 4.2.1 Potrebni resources:\n- **Senior Frontend Developer** - komponente implementacija (puno vreme)\n- **TypeScript Specialist** - tip sistem i API design (50% vreme)\n- **Accessibility Expert** - a11y review i testiranje (25% vreme)  \n- **Design System Architect** - token integration i design review (25% vreme)\n- **QA Engineer** - testiranje i quality gates (50% vreme)\n\n#### 4.2.2 Alati i infrastruktura:\n- **Vitest + Testing Library** - unit testiranje\n- **Axe-core** - accessibility testing\n- **Chromatic** - visual regression testing\n- **TypeScript** - type checking\n- **Storybook** - dokumentacija i development\n- **GitHub Actions** - CI/CD pipeline\n\n### 4.3 Risk mitigation\n\n#### 4.3.1 Tehniƒçki rizici:\n1. **TypeScript kompleksnost** - postupno uvoƒëenje generics-a\n2. **Performance regresija** - benchmark testovi\n3. **Breaking changes** - semver i migration guide\n4. **Test flakiness** - stabilizacija test setup-a\n\n#### 4.3.2 Timeline rizici:\n1. **Scope creep** - striktno pridr≈æavanje definisanih standarda\n2. **Dependencies** - paralelizacija nezavisnih komponenti\n3. **Review bottleneck** - automated quality gates\n\n### 4.4 Success metrics\n\n#### 4.4.1 Kvantitativni:\n- **0 TypeScript gre≈°aka** u celom projektu\n- **95%+ test coverage** za sve komponente\n- **0 accessibility violations** (axe-core)\n- **100% design token usage** (0 hardcoded vrednosti)\n- **<100ms render time** za sve komponente\n\n#### 4.4.2 Kvalitativni:\n- **Konzistentnost API-ja** kroz sve komponente\n- **Developer Experience** - lak≈°e kori≈°ƒáenje i debugging\n- **Documentation Quality** - kompletni interaktivni primeri\n- **Maintainability** - jednostavno dodavanje novih funkcionalnosti\n\n---\n\n## üéØ Zakljuƒçak\n\nOvaj plan predstavlja sistemski pristup standardizaciji DynUI biblioteke sa jasnim koracima, merljivim ciljevima i realiistiƒçnim timeline-om. Implementacija prema ovom planu ƒáe rezultovati enterprise-grade komponentnom bibliotekom koja po≈°tuje najbolje prakse u TypeScript-u, accessibility-ju, testiranju i dokumentaciji.\n\n**Kljuƒçne koristi:**\n- **Konzistentnost**: Svi developeri mogu oƒçekivati isti API pattern\n- **Kvalitet**: Automatizovane provere garantuju visok nivo kvaliteta\n- **Maintainability**: Jasna struktura olak≈°ava buduƒáe izmene\n- **Accessibility**: WCAG 2.1 AA compliance za sve korisnike\n- **Performance**: Optimizovane komponente za produkciju\n\n**Preporuƒçeni pristup:**\n1. **Faza po faza implementacija** - ne paralelize sve odjednom\n2. **Quality gates na svakom koraku** - spreƒçava akumulaciju tehniƒákog duga\n3. **Kontinuiran review** - ne ƒçeka se kraj za feedback\n4. **Dokumentacija u paraleli** - Storybook se a≈æurira sa svakim PR-om\n\nPlan je spreman za implementaciju i mo≈æe se pokrenuti odmah sa Fazom 1.\n
