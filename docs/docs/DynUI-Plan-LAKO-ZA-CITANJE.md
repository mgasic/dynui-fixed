# 🏗️ DynUI Component Standardization Plan\n**Finalna implementacija - Lako za čitanje**\n\n---\n\n## 📋 БРЗА РЕФЕРЕНЦА\n\n### 🎯 Циљеви пројекта:\n- ✅ **0 TypeScript грешака** у целом пројекту\n- ✅ **95%+ test coverage** за све компоненте  \n- ✅ **WCAG 2.1 AA** приступачност\n- ✅ **100% design token** интеграција\n- ✅ **Комплетна Storybook** документација\n\n### 📊 Тренутно стање:\n- **DynAvatar**: ✅ 100% (Референтни стандард)\n- **DynTable**: ✅ 100% (Недавно ажурирано)\n- **DynButton**: 🟡 70% (Треба рад)\n- **DynInput**: 🔴 40% (Треба рад)\n- **Остале**: 🔴 30-60% (Треба рад)\n\n---\n\n## 🚀 ПЛАН ИМПЛЕМЕНТАЦИЈЕ\n\n### **ФАЗА 1: Критичне компоненте (Недеља 1)**\n\n#### 🔵 DynButton (3 дана)\n**Проблеми:**\n- TypeScript `kind` vs enum неусклађеност\n- Недостају accessibility тестови\n- Неконзистентни prop типови\n\n**Корак по корак:**\n1. **Дан 1**: Поправи TypeScript типове и експорте\n2. **Дан 2**: Рефактор CSS са design токенима\n3. **Дан 3**: Додај тестове и Storybook\n\n#### 🔵 DynInput (4 дана)\n**Проблеми:**\n- Валидацијски систем непотпун\n- Async/sync конфликт\n- Недостају ARIA атрибути\n\n**Корак по корак:**\n1. **Дан 1**: Креирај validation систем\n2. **Дан 2**: Направи useValidation hook\n3. **Дан 3**: Додај accessibility\n4. **Дан 4**: Тестови и документација\n\n#### 🔵 DynBox (2 дана)\n**Проблеми:**\n- Layout props нису типизирани\n- Недостаје utility систем\n\n#### 🔵 DynLabel (1 дан)\n**Фокус на accessibility helper функције**\n\n### **ФАЗА 2: Интерактивне компоненте (Недеље 2-3)**\n\n#### 🟡 DynSelect (5 дана)\n- Keyboard navigation (Arrow keys, Enter, Escape)\n- ARIA combobox/listbox\n- Multi-select\n- Search/filtering\n\n#### 🟡 DynCheckbox (2 дана)\n- Indeterminate стање\n- Custom styling\n\n#### 🟡 DynTabs (4 дана)\n- ARIA tablist/tab/tabpanel\n- Keyboard navigation\n\n#### 🟡 DynModal (5 дана)\n- Focus trap\n- Portal rendering\n- Escape key handling\n\n### **ФАЗА 3: Комплексне компоненте (Недеље 3-4)**\n\n#### 🟠 DynStepper (5 дана)\n- Step validation\n- Progress indication\n\n#### 🟠 DynMenu (6 дана)\n- Submenu support\n- Context menus\n\n#### 🟠 DynListView (5 дана)\n- Virtual scrolling\n- Selection management\n\n#### 🟠 DynTreeView (7 дана)\n- Hierarchical data\n- Lazy loading\n\n### **ФАЗА 4: Остале компоненте (Недеље 4-5)**\n\n- **DynToolbar** (3 дана)\n- **DynPage** (3 дана)\n- **DynDatePicker** (5 дана)\n- **Остале 11 компоненти** (1-3 дана свака)\n\n---\n\n## 📐 СТАНДАРДИ КВАЛИТЕТА\n\n### 🗂️ Структура фајлова (ОБАВЕЗНО)\n\n```\nComponentName/\n├── ComponentName.tsx          # Главна имплементација\n├── ComponentName.types.ts     # TypeScript типови\n├── ComponentName.module.css   # Стилови са токенима\n├── ComponentName.test.tsx     # Тест suite\n├── ComponentName.stories.tsx  # Storybook документација\n└── index.ts                   # Export декларације\n```\n\n### 📝 TypeScript Pattern (ОБАВЕЗНО)\n\n```typescript\n// ComponentName.types.ts\nexport interface ComponentNameProps extends \n  BaseComponentProps, \n  AccessibilityProps {\n  \n  size?: 'sm' | 'md' | 'lg';\n  variant?: 'primary' | 'secondary' | 'danger';\n  disabled?: boolean;\n  loading?: boolean;\n  children?: React.ReactNode;\n}\n\nexport type ComponentNameRef = HTMLElement;\n\n// ComponentName.tsx\nexport const ComponentName = forwardRef<ComponentNameRef, ComponentNameProps>(\n  (props, ref) => {\n    // Имплементација\n  }\n);\n\nComponentName.displayName = 'ComponentName';\nexport default ComponentName;\n```\n\n### 🎨 CSS и Design Tokens (ОБАВЕЗНО)\n\n```css\n.component-name {\n  /* САМО design токени - БЕЗ hardcoded вредности! */\n  font-family: var(--dyn-font-family-base, system-ui);\n  font-size: var(--dyn-font-size-base, 1rem);\n  color: var(--dyn-color-text-primary, #111827);\n  background: var(--dyn-color-bg-primary, #ffffff);\n  padding: var(--dyn-spacing-md, 1rem);\n  border-radius: var(--dyn-border-radius-md, 0.375rem);\n  transition: var(--dyn-transition-base, all 0.15s ease-in-out);\n}\n\n/* Focus - ОБАВЕЗНО за accessibility */\n.component-name:focus-visible {\n  outline: var(--dyn-outline-focus, 2px solid #3b82f6);\n  outline-offset: var(--dyn-outline-offset, 2px);\n}\n\n/* Dark theme - ОБАВЕЗНО */\n@media (prefers-color-scheme: dark) {\n  .component-name {\n    color: var(--dyn-color-text-primary-dark, #f9fafb);\n    background: var(--dyn-color-bg-primary-dark, #111827);\n  }\n}\n```\n\n### ♿ Accessibility (ОБАВЕЗНО)\n\n```typescript\n// ARIA атрибути\nconst accessibilityProps = {\n  'aria-label': ariaLabel,\n  'aria-labelledby': ariaLabelledBy,\n  'aria-describedby': ariaDescribedBy,\n  'aria-disabled': disabled ? 'true' : undefined,\n  'aria-busy': loading ? 'true' : undefined,\n  role: appropriateRole,\n  tabIndex: isInteractive ? 0 : -1,\n};\n```\n\n**Keyboard Navigation:**\n- **Enter/Space**: Активација\n- **Escape**: Затварање modal/dropdown\n- **Arrow keys**: Навигација\n- **Tab**: Focus management\n\n### 🧪 Testing (ОБАВЕЗНО)\n\n```typescript\n// Обавезни тестови\ndescribe('ComponentName', () => {\n  it('renders without crashing');\n  it('applies variants correctly');\n  it('handles user interactions');\n  it('supports keyboard navigation');\n  \n  // ACCESSIBILITY - ОБАВЕЗНО!\n  it('has no accessibility violations', async () => {\n    const { container } = render(<ComponentName />);\n    const results = await axe(container);\n    expect(results).toHaveNoViolations();\n  });\n});\n```\n\n### 📖 Storybook (ОБАВЕЗНО)\n\nОбавезне приче:\n1. **Default** - Основна употреба\n2. **Variants** - Све варијанте\n3. **Sizes** - Све величине\n4. **Interactive** - Event handling\n5. **Accessibility** - A11y демо\n6. **Dark Theme** - Dark mode\n\n---\n\n## ⚙️ АУТОМАТИЗОВАНИ QUALITY GATES\n\n### 🚦 Pre-commit провере (МОРА да прође):\n\n```bash\n# 1. TypeScript компајлирање\nnpx tsc --noEmit\n\n# 2. Design token валидација\ngrep -r \"rgb\\|hsl\\|#[0-9a-fA-F]\" src/ && echo \"❌ Hardcoded colors found!\"\n\n# 3. Test coverage\nnpx vitest run --coverage\n# Мора бити >95%\n\n# 4. Accessibility testing\nnpx vitest run --grep=\"accessibility\"\n# Мора бити 0 violations\n\n# 5. Storybook build\nnpx build-storybook\n```\n\n### 📊 GitHub Actions CI/CD\n\n```yaml\nname: DynUI Quality Gates\n\non:\n  pull_request:\n    paths: ['packages/dyn-ui-react/src/components/**']\n\njobs:\n  quality-check:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n      - name: Install dependencies\n        run: npm ci\n      - name: Run quality gates\n        run: ./scripts/quality-gates.sh\n```\n\n---\n\n## 📈 ПРАЋЕЊЕ НАПРЕТКА\n\n### 🎯 Dashboard\n\n```\n🏗️ DynUI Component Standardization\n\n📊 УКУПАН НАПРЕДАК: 73% → Циљ: 100%\n\n✅ Завршено: 8/26 компоненти (31%)\n🟡 У току: 4/26 компоненти (15%)\n🔴 Чека: 14/26 компоненти (54%)\n\n🎯 МЕТРИКЕ КВАЛИТЕТА:\n├── TypeScript: 85% ✅ → Циљ: 100%\n├── Test Coverage: 87% 🟡 → Циљ: 95%\n├── Accessibility: 92% ✅ → Циљ: 100%\n├── Design Tokens: 94% ✅ → Циљ: 100%\n└── Документација: 73% 🟡 → Циљ: 100%\n\n⚡ ПЕРФОРМАНСЕ:\n├── Render Time: 45ms ✅ → Циљ: <100ms\n├── Bundle Size: +2.3% ✅ → Циљ: <5%\n└── Build Time: 8.2min ✅ → Циљ: <10min\n```\n\n### 📅 Timeline\n\n- **Недеља 1**: Фаза 1 - Критичне компоненте\n- **Недеља 2-3**: Фаза 2 - Интерактивне компоненте\n- **Недеља 3-4**: Фаза 3 - Комплексне компоненте\n- **Недеља 4-5**: Фаза 4 - Остале компоненте\n- **Недеља 6**: Buffer и финална QA\n\n---\n\n## 🚨 ВАЖНЕ НАПОМЕНЕ\n\n### ⛔ ЗАБРАЊЕНО:\n- **Hardcoded вредности** у CSS (користи само design токене!)\n- **TypeScript `any`** типови\n- **Компоненте без testова**\n- **Missing accessibility** атрибути\n- **Incomplete Storybook** документација\n\n### ✅ ОБАВЕЗНО:\n- **forwardRef** за све компоненте\n- **displayName** за debugging\n- **ARIA атрибути** за accessibility\n- **axe-core тестирање**\n- **Design token** интеграција\n- **Dark theme** подршка\n- **Keyboard navigation**\n\n### 🎯 SUCCESS CRITERIA:\n- ✅ **0 TypeScript errors**\n- ✅ **95%+ test coverage**\n- ✅ **0 accessibility violations**\n- ✅ **100% design token usage**\n- ✅ **Complete Storybook documentation**\n- ✅ **<100ms render performance**\n\n---\n\n## 🚀 КАКО ПОЧЕТИ\n\n### 1. Setup окружења\n```bash\ngit clone https://github.com/mgasic/dyn-ui.git\ncd dyn-ui\nnpm install\nnpm run dev\n```\n\n### 2. Изабери компоненту (почни са DynButton)\n```bash\ngit checkout -b feat/standardize-DynButton\ncd packages/dyn-ui-react/src/components/DynButton\n```\n\n### 3. Следи checklist:\n- [ ] Поправи TypeScript типове\n- [ ] Рефактор CSS са токенима\n- [ ] Додај accessibility\n- [ ] Напиши тестове\n- [ ] Креирај Storybook приче\n- [ ] Покрени quality gates\n- [ ] Креирај PR\n\n### 4. Repeatable pattern за све компоненте!\n\n---\n\n## 💡 TIPS & TRICKS\n\n- **Почни увек са DynAvatar и DynTable** као референце\n- **Копирај file структуру** 1:1\n- **Користи TypeScript inference** где год можеш\n- **Тестирај на keyboard navigation** редовно\n- **Провери dark theme** у browser dev tools\n- **Покрени `npm run test:a11y`** често\n\n---\n\n**📞 За питања и подршку:**\n- **Slack**: #frontend-architecture\n- **Email**: <architecture-team@company.com>\n- **Weekly standup**: Понедељком у 9:00\n\n**✅ План је спреман за имплементацију!**
